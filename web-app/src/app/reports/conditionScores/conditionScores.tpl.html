<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Condition Scores</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
        
            <div class="panel-heading">
                Condition Scores
            </div>
            
            <div class="panel-body">
                <div class="form-group">
                    <label>Farm</label>
                    <select
                        id="selectFarm"
                        class="form-control" 
                        ng-model="import.farm" 
                        ng-options="farm as farm.name for farm in userFarms" 
                        ng-change="changeFarm(import.farm)">
                        <option value="" selected>--Please Select Your Farm--</option>
                    </select>
                </div>
           
                <div class="form-group">
                    <label>Herd</label>
                    <select 
                        id="selectHerd"
                        class="form-control"
                        ng-model="import.herd"
                        ng-options="herd as herd.name for herd in herds" 
                        ng-change="getCSDates()">
                        <option value="" selected>--Please Select Your Herd--</option>
                    </select>
                </div>                
                <!-- pick dates and display graph button row -->
                <div class="row">
                    <div class="col-lg-6">
                
                        <div class="form-group">
                            <label>Measurement Date</label>
                            <div ng-repeat="measurementDate in dateList">
                                <label style="font-weight: normal !important">
                                    <input 
                                        type="checkbox"
                                        value="{{measurementDate.set.startDate}}"
                                        ng-model="measurementDate.selected">
                                        {{toLocaleDate(measurementDate.set.startDate)}}
                                </label>
                            </div>
                        </div>
                    
                    </div>
                    <div class="col-lg-6">
                
                        <div class="form-group">
                                <button 
                                    type="button" 
                                    class="btn btn-success pull-right" 
                                    ng-click="makeGraph()">
                                    Display Graph
                                </button>
                            </p>
                        </div>
                        
                    </div>
                
                </div>
                <!-- end pick dates and display graph button row -->
                
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="text-center">Herd Condition Scores</h3>
                            <cs-chart ng-model='data' id="placeholdercs" class="col-lg-8 col-lg-offset-2 flot-chart"></cs-chart>
                    </div>
                </div>
                <div class="panel panel-green">
                    <div class="panel-heading">
                        Download
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label>Min</label>
                            <input type="text" class="input-large" data-ng-model="min">
                            <label>Max</label>
                            <input type="text" class="input-large" data-ng-model="max">
                        </div>
                    </div>
                    <div class="panel-footer">
                        <p>
                            <button type="button" class="btn btn-success" lazy-load="true" ng-csv="getArray()" csv-header="['VID','EID','Condition Score','Date']" filename="ConditionScores.csv">Download</button>
                        </p>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>
